/*! For license information please see js-offcanvas.pkgd.min.js.LICENSE.txt */
!function(t){"use strict";var e={classes:{hiddenVisually:"u-hidden-visually",modifier:"--",isActive:"is-active",isClosed:"is-closed",isOpen:"is-open",isClicked:"is-clicked",isAnimating:"is-animating",isVisible:"is-visible",hidden:"u-hidden"},keyCodes:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},a11yclick:function(t){var s=t.charCode||t.keyCode,i=t.type;return"click"===i||"keydown"===i&&(s===e.keyCodes.SPACE||s===e.keyCodes.ENTER||void 0)},a11yclickBind:function(e,s,i){e.on("click."+i+" keydown."+i,function(n){t.utils.a11yclick(n)&&(n.preventDefault(n),s&&"function"==typeof s&&s.call(),e.trigger("clicked."+i))})}};e.doc=t.document,e.supportTransition=Modernizr.csstransitions,e.supportAnimations=Modernizr.cssanimations,e.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e.transEndEventName=e.transEndEventNames[Modernizr.prefixed("transition")],e.animEndEventName=e.animEndEventNames[Modernizr.prefixed("animation")],e.onEndTransition=function(t,s){var i=function(t){if(e.supportTransition){if(t.target!=this)return;this.removeEventListener(e.transEndEventName,i)}s&&"function"==typeof s&&s.call()};e.supportTransition?t.addEventListener(e.transEndEventName,i):i()},e.onEndAnimation=function(t,s){var i=function(t){if(e.supportAnimations){if(t.target!=this)return;this.removeEventListener(e.animEndEventName,i)}s&&"function"==typeof s&&s.call()};e.supportAnimations?t.addEventListener(e.animEndEventName,i):i()},e.createModifierclassName=function(t,s){return t+e.classes.modifier+s},e.cssModifiers=function(t,s,i){for(var n=t.split(","),o=0,a=n.length;o<a;o++)s.push(e.createModifierClass(i,n[o]))},e.getMetaOptions=function(t,e,s){var i="data-"+e,n=i+"-options",o=t.getAttribute(i)||t.getAttribute(n);try{return o&&JSON.parse(o)||{}}catch(e){return void(console&&console.error("Error parsing "+i+" on "+t.className+": "+e))}};var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};e.raf=function(t){s(t)},t.utils=e}(this),function(t,e){"use strict";var s="trab-tab",i=s+"-component";t.componentNamespace=t.componentNamespace||{};var n=t.componentNamespace.TrapTabKey=function(t,s){if(!t)throw new Error("Element required to initialize object");this.element=t,this.$element=e(t),s=s||{},this.options=e.extend({},this.defaults,s)};n.prototype.init=function(){this.$element.data(i)||this.$element.data(i,this)},n.prototype.bindTrap=function(){var t=this;this.$element.on("keydown."+s,function(e){t._trapTabKey(t.$element,e)})},n.prototype.unbindTrap=function(){this.$element.off("keydown."+s)},n.prototype.giveFocus=function(){var t=this.options;this.$element.find("*").filter(t.focusableElementsString).filter(":visible").first().focus()},n.prototype._trapTabKey=function(t,e){var s,i,n,o,a=this.options;9==e.which&&(s=t.find("*").filter(a.focusableElementsString).filter(":visible"),i=jQuery(":focus"),n=s.length,o=s.index(i),e.shiftKey?0==o&&(s.get(n-1).focus(),e.preventDefault()):o==n-1&&(s.get(0).focus(),e.preventDefault()))},n.prototype.defaults={focusableElementsString:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"},n.defaults=n.prototype.defaults}(this,jQuery),function(t,e){"use strict";var s="button",i=s+"-component",n=t.utils,o="toggle-state",a="visible-on-active";t.componentNamespace=t.componentNamespace||{};var r=t.componentNamespace.Button=function(t,i){if(!t)throw new Error("Element required to initialize object");this.element=t,this.$element=e(t),this.options=i=i||{},this.metadata=n.getMetaOptions(this.element,s),this.options=e.extend({},this.defaults,this.metadata,i)};r.prototype.init=function(){this.$element.data(i)||(this.$element.data(i,this),this.hasTitle=!!this.$element.attr("title"),this.$element.trigger("beforecreate."+s),this.isPressed=!1,this._create())},r.prototype._create=function(){var i=this.options,r=[i.baseClass],l=[i.baseClass+"__text"];null===i.label&&(i.label=this.$element.html()),this.$buttonText=e("<span></span>").html(i.label).appendTo(this.$element.empty()),i.icon&&(this.$buttonIcon=e("<span className='"+i.iconFamily+" "+n.createModifierClass(i.iconFamily,i.icon)+"'></span>").prependTo(this.$element),r.push(n.createModifierClass(i.baseClass,"icon")),i.iconActive&&(i.toggle=!0,this.$buttonIconActive=e("<span className='"+i.iconFamily+" "+n.createModifierClass(i.iconFamily,i.iconActive)+" "+n.createModifierClass(i.iconFamily,a)+"'></span>").insertAfter(this.$buttonIcon),r.push(n.createModifierClass(i.baseClass,o))),i.hideText&&(l.push(n.classes.hiddenVisually),r.push(n.createModifierClass(i.baseClass,"icon-only")))),i.modifiers&&n.cssModifiers(i.modifiers,r,i.baseClass),this.$buttonText.addClass(l.join(" ")),i.textActive&&(i.toggle=!0,l.push(n.createModifierClass(i.baseClass+"__text",a)),r.push(n.createModifierClass(i.baseClass,o)),this.$buttonTextActive=e("<span></span>").addClass(l.join(" ")).html(i.textActive).insertAfter(this.$buttonText),this.$element.attr("aria-live","polite")),this.$element.addClass(r.join(" ")),i.role&&this.$element.attr("role",i.role),i.controls&&this.controls(i.controls),i.pressed&&this._isPressed(i.pressed),i.expanded&&(this.isPressed=!0,this._isExpanded(i.expanded)),this.hasTitle||!i.hideText||i.hideTitle||this.$element.attr("title",this.$element.text()),i.ripple&&t.componentNamespace.Ripple&&new t.componentNamespace.Ripple(this.element).init(),this.$element.trigger("create."+s)},r.prototype._isPressed=function(t){this.isPressed=t,this.$element.attr("aria-pressed",t)[t?"addClass":"removeClass"](n.classes.isActive)},r.prototype._isExpanded=function(t){this._isPressed(t),this.$element.attr("aria-expanded",t)},r.prototype.controls=function(t){this.$element.attr("aria-controls",t)},r.prototype.defaults={baseClass:"c-button",role:"button",label:null,modifiers:null,controls:null,textActive:null,hideText:!1,hideTitle:!1,icon:null,iconActive:null,iconFamily:"o-icon",iconPosition:null,pressed:!1,expanded:!1,ripple:!1},r.defaults=r.prototype.defaults}(this,jQuery),function(t,e){"use strict";var s="jsButton",i=".js-button";e.fn[s]=function(){return this.each(function(){new t.componentNamespace.Button(this).init()})},e(document).bind("enhance",function(t){e(e(t.target).is(i)&&t.target).add(i,t.target).filter(i)[s]()})}(this,jQuery),function(t,e){"use strict";var s="offcanvas",i=s+"-component",n=t.utils,o=t.document;t.componentNamespace=t.componentNamespace||{};var a=t.componentNamespace.Offcanvas=function(t,i){if(!t)throw new Error("Element required to initialize object");this.element=t,this.$element=e(t),this.options=i=i||{},this.metadata=n.getMetaOptions(this.element,s),this.options=e.extend({},this.defaults,this.metadata,i),this.isOpen=!1,this.onOpen=this.options.onOpen,this.onClose=this.options.onClose,this.onInit=this.options.onInit};a.prototype.init=function(){this.$element.data(i)||(this.$element.data(i,this),this.$element.trigger("beforecreate."+s),this._addAttributes(),this._createModal(),this._trapTabKey(),this._closeButton(),this.onInit&&"function"==typeof this.onInit&&this.onInit.call(this.element),this.$element.trigger("create."+s))},a.prototype._addAttributes=function(){var s=this.options,i=[s.baseClass,n.classes.isClosed],o={tabindex:"-1","aria-hidden":!this.isOpen};s.role&&(o.role=s.role),t.utils.supportTransition||i.push(n.createModifierClass(s.baseClass,s.supportNoTransitionsClass)),n.cssModifiers(s.modifiers,i,s.baseClass),this.$element.attr(o).addClass(i.join(" ")),this.$content=e("."+s.contentClass),this._contentOpenClasses=[],n.cssModifiers(s.modifiers,this._contentOpenClasses,s.contentClass),this._modalOpenClasses=[s.modalClass,n.classes.isClosed],n.cssModifiers(s.modifiers,this._modalOpenClasses,s.modalClass),this._bodyOpenClasses=[s.bodyModifierClass+"--visible"],n.cssModifiers(s.modifiers,this._bodyOpenClasses,s.bodyModifierClass),s.modifiers.toLowerCase().indexOf("reveal")>=0?this.transitionElement=this.$content[0]:this.transitionElement=this.element},a.prototype._createModal=function(){var t=this,i=t.$element.parent();this.options.modal&&(this.$modal=e("<div></div>").on("mousedown."+s,function(){t.close()}).appendTo(i),this.$modal.addClass(this._modalOpenClasses.join(" ")))},a.prototype._trapTabKey=function(){this.trapTabKey=new t.componentNamespace.TrapTabKey(this.element),this.trapTabKey.init()},a.prototype._trapTabEscKey=function(){var t=this;e(o).on("keyup."+s,function(s){if((s.keyCode||s.which)===n.keyCodes.ESCAPE&&t.isOpen){if(e("input").is(":focus"))return;t.close()}})},a.prototype._closeButton=function(){var e=this,i=e.options;this.$closeBtn=this.$element.find("."+i.closeButtonClass),this.$closeBtn.length&&(this.closeBtn=new t.componentNamespace.Button(this.$closeBtn[0]),this.closeBtn.init(),this.closeBtn.controls(this.$element.attr("id")),n.a11yclickBind(this.$closeBtn,function(){e.close()},s))},a.prototype.open=function(){var t=this,a=t.options;this.isOpen||(a.resize&&this.resize(),this.$trigger||(this.$trigger=this.$element.data(i+"-trigger")),o.activeElement&&(this.lastFocus=o.activeElement),this.isOpen=!0,e("body").addClass(this._bodyOpenClasses.join(" ")),this._addClasses(this.$element,this.isOpen,!0),this._addClasses(this.$content,this.isOpen,!0),a.modal&&this._addClasses(this.$modal,this.isOpen,!0),this.$element.attr("aria-hidden","false").addClass(n.createModifierClass(a.baseClass,"opening")),this.$content.addClass(this._contentOpenClasses.join(" ")),n.onEndTransition(this.transitionElement,function(){t.trapTabKey.giveFocus(),t.trapTabKey.bindTrap(),t._addClasses(t.$element,t.isOpen,!1),t._addClasses(t.$content,t.isOpen,!1),a.modal&&t._addClasses(t.$modal,t.isOpen,!1),t.$element.removeClass(n.createModifierClass(a.baseClass,"opening"))}),this.$trigger&&this.$trigger.button._isExpanded(!0),this.onOpen&&"function"==typeof this.onOpen&&this.onOpen.call(this.$element),this.$element.trigger("open."+s),this._trapTabEscKey())},a.prototype.close=function(){var t=this;this.isOpen&&(this.isOpen=!1,this._addClasses(this.$element,this.isOpen,!0),this._addClasses(this.$content,this.isOpen,!0),this.options.modal&&this._addClasses(this.$modal,this.isOpen,!0),this.$element.attr("aria-hidden","true"),this.trapTabKey.unbindTrap(),t.$trigger&&t.$trigger.button._isExpanded(!1),n.onEndTransition(this.transitionElement,function(){t._addClasses(t.$element,t.isOpen,!1),t._addClasses(t.$content,t.isOpen,!1),t.options.modal&&t._addClasses(t.$modal,t.isOpen,!1),t.$content.removeClass(t._contentOpenClasses.join(" ")),e("body").removeClass(t._bodyOpenClasses.join(" ")),t.lastFocus&&t.lastFocus.focus()}),this.onClose&&"function"==typeof this.onClose&&this.onClose.call(this.element),this.$element.trigger("close."+s),e(o).off("keyup."+s),e(window).off("."+s))},a.prototype._addClasses=function(t,e,s){e?s?t.removeClass(n.classes.isClosed).addClass(n.classes.isAnimating).addClass(n.classes.isOpen):t.removeClass(n.classes.isAnimating):s?t.removeClass(n.classes.isOpen).addClass(n.classes.isAnimating):t.addClass(n.classes.isClosed).removeClass(n.classes.isAnimating)},a.prototype.toggle=function(){this[this.isOpen?"close":"open"]()},a.prototype.resize=function(){function t(){i=!1}var i,o=this;e(window).on("resize."+s+" orientationchange."+s,function(){i||n.raf(t),i=!0,o.$element.trigger("resizing."+s),o.close()})},a.prototype._initTrigger=function(){var s,i=this.options,n=this.$element.attr("id");s=e(i.target?i.target:"[data-offcanvas-trigger='"+n+"']"),new t.componentNamespace.OffcanvasTrigger(s[0],{offcanvas:n}).init()},a.prototype.setButton=function(t){this.$element.data(i+"-trigger",t)},a.prototype.defaults={role:"dialog",modifiers:"left,overlay",baseClass:"c-offcanvas",modalClass:"c-offcanvas-bg",contentClass:"c-offcanvas-content-wrap",closeButtonClass:"js-offcanvas-close",bodyModifierClass:"has-offcanvas",supportNoTransitionsClass:"support-no-transitions",resize:!0,target:null,modal:!0,onOpen:null,onClose:null,onInit:null},a.defaults=a.prototype.defaults}(this,jQuery),function(t,e){"use strict";var s="offcanvas",i=".js-"+s;e.fn[s]=function(){return this.each(function(){new t.componentNamespace.Offcanvas(this).init()})},e(t.document).on("enhance",function(t){e(e(t.target).is(i)&&t.target).add(i,t.target).filter(i)[s]()})}(this,jQuery),function(t,e){"use strict";var s="offcanvas-trigger",i=s+"-component",n=t.utils;t.componentNamespace=t.componentNamespace||{};var o=t.componentNamespace.OffcanvasTrigger=function(t,s){if(!t)throw new Error("Element required to initialize object");this.element=t,this.$element=e(t),this.options=s=s||{},this.options=e.extend({},this.defaults,s)};o.prototype.init=function(){this.$element.data(i)||(this.$element.data(i,this),this._create())},o.prototype._create=function(){if(this.options.offcanvas=this.options.offcanvas||this.$element.attr("data-offcanvas-trigger"),this.$offcanvas=e("#"+this.options.offcanvas),this.offcanvas=this.$offcanvas.data("offcanvas-component"),!this.offcanvas)throw new Error("Offcanvas Element not found");this.button=new t.componentNamespace.Button(this.element),this.button.init(),this.button.controls(this.options.offcanvas),this.button._isExpanded(!1),this._bindbehavior()},o.prototype._bindbehavior=function(){var t=this;this.offcanvas.setButton(t),n.a11yclickBind(this.$element,function(){t.offcanvas.toggle()},s)},o.prototype.defaults={offcanvas:null}}(this,jQuery),function(t,e){"use strict";var s="offcanvas-trigger",i=".js-"+s;e.fn[s]=function(){return this.each(function(){new t.componentNamespace.OffcanvasTrigger(this).init()})},e(t.document).on("enhance",function(t){e(e(t.target).is(i)&&t.target).add(i,t.target).filter(i)[s]()})}(this,jQuery);